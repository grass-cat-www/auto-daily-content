# 2025-10-11歷史紀錄

## 主題：queue
## 內文：
Queue，也就是佇列，這玩意兒就像排隊買鹽酥雞，先排的先拿到，公平公正公開。看似簡單，但用得好，能優化你的程式效能，讓程式碼更簡潔。

以下是一些關於 Queue 的小技巧筆記：

*   **選擇適合的 Queue 類型：**
    *   **`Queue` (FIFO):** 典型的先進先出佇列，適用於處理請求序列，例如網路請求、任務排程等。
    *   **`LifoQueue` (LIFO):** 後進先出佇列，行為類似堆疊，可用於實作回溯算法或撤銷/重做功能。
    *   **`PriorityQueue`:** 根據優先級排序的佇列，適用於需要優先處理某些任務的場景，例如作業系統的進程排程。

*   **非同步 Queue 的妙用：** 如果你的生產者和消費者速度不匹配，`asyncio.Queue` 在非同步環境下可以有效地解耦生產者和消費者，避免阻塞。

*   **善用 `maxsize` 限制：** 在資源有限的環境下，設定 `maxsize` 可以防止 Queue 無限制增長，導致記憶體溢出。當 Queue 滿時，`put()` 方法會阻塞，直到有空間釋放。

*   **小心競爭條件：** 多執行緒環境下，Queue 操作需要注意鎖的問題。Python 的 Queue 已經內建了線程安全機制，但如果需要進行更複雜的操作，仍然需要謹慎處理。

*   **用 deque 實現高效的雙向 Queue：** 如果需要在 Queue 的兩端都進行插入和刪除操作，`collections.deque` 會是更好的選擇，它的時間複雜度為 O(1)。

Queue 是一個強大的工具，掌握它，可以讓你的程式碼更高效、更可靠。希望這些小技巧能幫到你。下次寫程式遇到需要排隊的問題，不妨試試 Queue，說不定會有意想不到的收穫喔！一起加油！


